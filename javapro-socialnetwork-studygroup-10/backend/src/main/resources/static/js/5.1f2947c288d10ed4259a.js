webpackJsonp([5],{cxj3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),i=a("exGp"),n=a.n(i),l=a("Dd8w"),c=a.n(l),o=a("NYxO"),d=a("+cKO"),m=a("TYx6"),u=a("i53X"),v=a("/QaM"),f=a("znC5"),p=a("a2KH"),h={name:"ConfirmField",props:{value:{type:Boolean,default:""},v:{type:Object,required:!0},id:{type:String,required:!0}},computed:{confirm:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form__group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm,expression:"confirm"}],staticClass:"form__checkbox",class:{invalid:e.v.$dirty&&!e.v.sameAs},attrs:{type:"checkbox",name:"confirm",id:e.id},domProps:{checked:Array.isArray(e.confirm)?e._i(e.confirm,null)>-1:e.confirm},on:{change:function(t){var a=e.confirm,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=e._i(a,null);s.checked?i<0&&(e.confirm=a.concat([null])):i>-1&&(e.confirm=a.slice(0,i).concat(a.slice(i+1)))}else e.confirm=r}}}),a("label",{staticClass:"form__checkbox-label",attrs:{for:e.id}},[e._v("Я согласен с "),a("a",{attrs:{href:"#"}},[e._v("полит. конф-ти ")]),e._v("и передачей "),a("a",{attrs:{href:"#"}},[e._v("перс. данных")])])])},staticRenderFns:[]},g=a("VU/8")(h,_,!1,null,null,null).exports,b={name:"Registration",components:{PasswordField:m.a,EmailField:v.a,NameField:f.a,NumberField:p.a,ConfirmField:g,PasswordRepeatField:u.a},data:function(){return{email:"",passwd1:"",passwd2:"",firstName:"",lastName:"",confirm:!1}},computed:c()({},Object(o.c)("auth/api",["validCaptcha"])),methods:c()({},Object(o.b)("auth/api",["register","login","confirmCaptcha"]),{submitHandler:function(){var e=this;return n()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$v.$invalid){t.next=3;break}return e.$v.$touch(),t.abrupt("return");case 3:setTimeout(function(){var t=e.email,a=e.passwd1,s=e.passwd2,r=e.firstName,i=e.lastName;e.register({email:t,passwd1:a,passwd2:s,firstName:r,lastName:i,data:grecaptcha.execute("6Lc5BzYaAAAAAFR8_mN46Pu1jOZWZrtO8dtFernG")}).then(function(){e.$router.push({name:"RegisterSuccess"})})},1e3);case 4:case"end":return t.stop()}},t,e)}))()}}),validations:{email:{required:d.required,email:d.email},passwd1:{required:d.required,minLength:Object(d.minLength)(8)},passwd2:{required:d.required,minLength:Object(d.minLength)(8),sameAsPassword:Object(d.sameAs)("passwd1")},firstName:{required:d.required,minLength:Object(d.minLength)(3),maxLength:Object(d.maxLength)(25)},lastName:{required:d.required,minLength:Object(d.minLength)(3),maxLength:Object(d.maxLength)(25)}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registration"},[a("form",{staticClass:"registration__form",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[a("div",{staticClass:"form__block"},[a("h4",{staticClass:"form__subtitle"},[e._v("Аккаунт")]),a("email-field",{class:{checked:e.$v.email.required&&e.$v.email.email},attrs:{id:"register-email",v:e.$v.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("password-field",{class:{checked:e.$v.passwd1.required&&e.$v.passwd2.sameAsPassword&&e.$v.passwd1.minLength},attrs:{id:"register-password",v:e.$v.passwd1,info:"info",registration:"registration"},model:{value:e.passwd1,callback:function(t){e.passwd1=t},expression:"passwd1"}}),a("password-repeat-field",{class:{checked:e.$v.passwd1.required&&e.$v.passwd2.sameAsPassword&&e.$v.passwd2.minLength},attrs:{id:"register-repeat-password",v:e.$v.passwd2},model:{value:e.passwd2,callback:function(t){e.passwd2=t},expression:"passwd2"}})],1),a("div",{staticClass:"form__block"},[a("h4",{staticClass:"form__subtitle"},[e._v("Личные данные")]),a("name-field",{attrs:{id:"register-firstName",v:e.$v.firstName},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("name-field",{attrs:{id:"register-lastName",v:e.$v.lastName,label:"Фамилия"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("div",{staticClass:"registration__action"},[a("button-hover",{attrs:{tag:"button",type:"submit",variant:"white"}},[e._v("Зарегистрироваться")])],1),a("div",{attrs:{id:"regcap"}})])])},staticRenderFns:[]};var $=a("VU/8")(b,w,!1,function(e){a("r7j3")},null,null);t.default=$.exports},r7j3:function(e,t){},znC5:function(e,t,a){"use strict";var s={name:"EmailField",props:{value:{type:String,default:""},v:{type:Object,required:!0},label:{type:String,default:"Имя"},id:{type:String,required:!0}},computed:{name:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form__group",class:{fill:e.name.length>0}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form__input",class:{invalid:e.v.$dirty&&!e.v.required||e.v.$dirty&&!e.v.minLength},attrs:{id:e.id,name:"name"},domProps:{value:e.name},on:{change:function(t){return e.v.$touch()},input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{staticClass:"form__label",attrs:{for:e.id}},[e._v(e._s(e.label))]),e.v.$dirty&&!e.v.required?a("span",{staticClass:"form__error"},[e._v("Обязательно поле")]):e.v.$dirty&&!e.v.minLength?a("span",{staticClass:"form__error"},[e._v("Введено слишком мало символов")]):e.v.$dirty&&!e.v.maxLength?a("span",{staticClass:"form__error"},[e._v("Превышено максимальное количество символов")]):e._e()])},staticRenderFns:[]},i=a("VU/8")(s,r,!1,null,null,null);t.a=i.exports}});